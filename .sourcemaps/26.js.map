{"version":3,"sources":["../../src/pages/review-purchase/review-purchase.module.ts","../../src/pages/review-purchase/review-purchase.ts"],"names":[],"mappings":"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","file":"26.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ReviewPurchasePage } from './review-purchase';\n\n@NgModule({\n  declarations: [\n    ReviewPurchasePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ReviewPurchasePage),\n  ],\n  exports: [\n    ReviewPurchasePage\n  ]\n})\nexport class ReviewPurchasePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/review-purchase/review-purchase.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { AlertController} from 'ionic-angular';\nimport { LoadingController } from 'ionic-angular';\nimport { Http } from '@angular/http';\nimport {Observable} from 'rxjs/Rx';\nimport {ServicesProvider} from '../../providers/services/services';\n// import { PayPal, PayPalPayment, PayPalConfiguration } from '@ionic-native/paypal';\nimport {PaymentSucessPage} from '../payment-sucess/payment-sucess';\nimport { ModalController } from 'ionic-angular';\n\n/**\n * Generated class for the ReviewPurchasePage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-review-purchase',\n  templateUrl: 'review-purchase.html',\n})\nexport class ReviewPurchasePage {\nSalon_name;\naddress;\nservice;\ndate;\ntime;\ncharges;\ntotal;\n http;\n    data;\n    content;\n    datedata;\n    img;\ntimedata\nbooking_id\nbarbername\npaydata\npaystate\nprouct_name\ntransaction_id\ntransaction_time\ntransaction_status\ncharg\nimg1\n// private payPal: PayPal,\n  constructor(public modalCtrl: ModalController,public serviceProvider:ServicesProvider,public navCtrl: NavController, public navParams: NavParams,public loadingCtrl: LoadingController,  http: Http, public alertCtrl: AlertController) {\n  // this.datedata=this.navParams.get('date');\n  // this.timedata=this.navParams.get('time');\n  this.booking_id=this.navParams.get('booking_id');\n  localStorage['booking_id']=this.booking_id;\n\n\n             this.http = http;\n        this.data = {};\n        this.data.response = '';\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ReviewPurchasePage');\n  }\nngOnInit(){\n  let loader = this.loadingCtrl.create({\n            content: \"Please wait...\"\n        });\n       loader.present();\n    var link='http://18.220.97.146/barber/WebServices/barberBookingInfoById.json';\n    var data=JSON.stringify({\n  \n      customer_id:localStorage['user_id'],\n    booking_id:localStorage['booking_id']\n    });\n\n\n    this.http.post(link,data)\n    .map(res=>res.json())\n     .subscribe(data=>{\n loader.dismiss();\n       this.data = data;\n       this.content=this.data.bookinginfo;\n      this.Salon_name=this.content.salonname;\n      this.barbername=this.content.barbername;\n      this.address=this.content.address;\n        this.service=this.content.service;\n            this.date=this.content.date;\n    this.time=this.content.time;\n    this.charg=this.content.charge;\n    if( this.charg==null ||  this.charg=='null'){\n      this.charges=30;\n      this.total=30;\n    }\n    else{\n       this.total=this.content.charge;\n       this.charges=this.content.charge;\n    }\n   \n    this.img1=this.content.image;\n      var n=this.img1.includes(\",\");\nif(n==true || n=='true'){\n  var a=this.img1.split(',');\n  this.img=a[0];\n}\nelse{\n  this.img=this.content.image;\n}\n \n     });\n\n}\n//     User_payment(){\n//             var paystatus=1;\n//       if(this.charges==null){\n//         this.charges=30;\n//       }\n//       else{\n//         this.charges=this.charges;\n\n//       }\n//        var user_id=localStorage['user_id'];\n//           this.payPal.init({\n//   \"PayPalEnvironmentProduction\":\"EHAcM2INSj9ek0nFpvo407Lm6HAVMKek2IJ5Ogg-oAYUV_GHYn8SOluvJkEeQIgMXAJhU40zB1u8OYUL\",\n//   \"PayPalEnvironmentSandbox\":\"ARKMEv5yNKHYh4zpKWYZAJKgUy6YTNI_ZfJ2oo3o0pPoODn47DjbdmjIr3UmUfwMFbb3ovsZ41iu1mKB\"\n// }).then(() => {\n  \n//   this.payPal.prepareToRender('PayPalEnvironmentSandbox', new PayPalConfiguration({\n   \n//   })).then(() => {\n//     let payment = new PayPalPayment(this.charges, 'USD', 'Description', 'sale');\n//     this.payPal.renderSinglePaymentUI(payment).then((data) => {\n//       localStorage['data']=data;\n//       localStorage['data_client_enviornment']=data.client.environment;\n// localStorage['client_product_name']=data.client.product_name;\n//       localStorage['response_id']=data.response.id;\n//       localStorage['trans_time']=data.response.create_time;\n//       localStorage['trans_status']=data.response.state;\n//       localStorage['data.response_type']=data.response_type;\n//        this.payment_service(user_id,this.booking_id,localStorage['response_id'],localStorage['trans_status'],paystatus);\n//       if(data.response.state==\"approved\"){\n//         this.paystate='true';\n//         this.prouct_name=localStorage['client_product_name'];\n//         this.transaction_id=localStorage['response_id'];\n//         this.transaction_time= localStorage['trans_time'];\n//         this.transaction_status= localStorage['trans_status'];\n//       }\n//       else{\n//          let alert = this.alertCtrl.create({\n//       title: 'Something went wrong!',\n//       subTitle: 'Payment unsuccessful',\n//       buttons: ['OK']\n//     });\n//     alert.present();\n//       }\n\n     \n//     }, (error) => {\n//        let alert = this.alertCtrl.create({\n//       title: 'Something went wrong!',\n//       subTitle: 'Payment unsuccessful',\n//       buttons: ['OK']\n//     });\n//     alert.present();\n     \n//     });\n//   }, (error) => {\n//      let alert = this.alertCtrl.create({\n//       title: 'Something went wrong!',\n//       subTitle: 'Payment unsuccessful',\n//       buttons: ['OK']\n//     });\n//     alert.present();\n//   });\n// }, (error) => {\n//    let alert = this.alertCtrl.create({\n//       title: 'Something went wrong!',\n//       subTitle: 'Payment unsuccessful',\n//       buttons: ['OK']\n//     });\n//     alert.present();\n// });\n// }\n\n    payment_service(user_id,bookingid,payment_id,pay_state,paystatus)\n    {\n      var response=response;\n      var bookingid=bookingid;\n      var user_id=user_id;\n        this.serviceProvider.payment_service(user_id,bookingid,payment_id,pay_state,paystatus)\n         .subscribe(data  =>{ \n           // alert('data'+JSON.stringify(data));\n           this.paydata=data;\n           if(this.paydata.message==\"your payment confirmation send to your email id\"){\n              // let alert = this.alertCtrl.create({\n              //           title: 'Payment success!',\n              //           subTitle: 'your payment confirmation send to your email id.',\n              //           buttons: ['OK']\n              //       });\n              //       alert.present();\n\n          this.payment(this.booking_id);\n       let modal = this.modalCtrl.create('PaymentSucessPage',{booking_id:bookingid,user_id:user_id});\n    modal.present();\n            // this.ngOnInit(); \n           }\n           else{\n             let alert = this.alertCtrl.create({\n      title: 'Something went wrong!',\n      subTitle: 'Payment unsuccessful',\n      buttons: ['OK']\n    });\n    alert.present();\n           }\n\n           \n        }),\n        error  => {\n          let alert = this.alertCtrl.create({\n      title: 'Something went wrong!',\n      subTitle: 'Payment unsuccessful',\n      buttons: ['OK']\n    });\n    alert.present();\n        }\n\n    }\n        payment(booking_id){\n      var user_id=localStorage['user_id'];\n\n      ///////////////paystatus 1= Payment success /////////////////////////////\n      var paystatus=1;\n         this.serviceProvider.PayStatus(booking_id,user_id,paystatus)\n         .subscribe(data  =>{ \n          // this.navCtrl.push('PaymentSucessPage',{booking_id:booking_id,user_id:user_id});\n        }),\n         \n        error  => {}\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/review-purchase/review-purchase.ts"],"sourceRoot":""}