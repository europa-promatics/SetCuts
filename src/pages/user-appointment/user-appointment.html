<!--
  Generated template for the UserAppointmentPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
  <button ion-button menuToggle icon-only class="button-logo">
      <ion-icon name='menu'></ion-icon>
    </button>
    <ion-title>APPOINTMENTS</ion-title>
  </ion-navbar>

</ion-header>


<ion-content class="content-appointment">

  <ion-segment [(ngModel)]="Appointments">
    <ion-segment-button value="UPCOMING">
      UPCOMING
    </ion-segment-button>
    <ion-segment-button value="PAST">
      PAST
    </ion-segment-button>
     <ion-segment-button value="CANCELLED">
      CANCELLED
    </ion-segment-button>
  </ion-segment>



<div [ngSwitch]="Appointments">
<div *ngSwitchCase="'UPCOMING'" >
 <div *ngIf="currentAppointment=='' && upcomingAppointment==''" class="div-img">
 <img src="http://18.220.97.146/barber/app_link/icon/indifferent.png" class="img-div">
 <div class="text-img"><b>No upcoming appointment</b></div>
 </div>
<div *ngIf="currentAppointment!=''">
<div class="user-review"  *ngFor="let c of currentAppointment" >

          <div class="inside-user">
                <!--  <img src="http://europa.promaticstechnologies.com/barber/img/barberimage/{{c.barber_image}}" *ngIf="c.barber_image!=null" />  -->
                <img [src]='getSafeUrl(c.barber_image)' *ngIf="c.barber_image!=null" />
                
                 <img src="http://18.220.97.146/barber/app_link/img/team-member2.jpg" *ngIf="c.barber_image==null">
                 </div>
          <div class="name">{{c.barbername}} </div>
          <div class="name">{{c.salonaddress}}</div>
          <div class="diff">
            <div>
              {{c.service}}  <span class="text-price"> ${{c.charge}}</span>
            </div>
            <div>
              {{c.date | date: 'dd'}}/{{c.date | date:'MM'}}/{{c.date | date: 'yyyy'}}  at {{c.time}}
            </div>
          </div>
          <div class="pull-right">
            <button ion-button small color="redcolor" (click)="cancel(c.booking_id)">cancel</button>
          </div>
          </div>
          </div>

<div *ngIf="upcomingAppointment!=''">

<div class="user-review"  *ngFor="let p of upcomingAppointment" >

    			<div class="inside-user">
                 <img [src]='getSafeUrl(p.barber_image)' *ngIf="p.barber_image!=null" /> 
                 <img src="http://18.220.97.146/barber/app_link/img/team-member2.jpg" *ngIf="p.barber_image==null">
                 </div>
    			<div class="name">{{p.barbername}} </div>
    			<div class="name">{{p.salonaddress}}</div>
    			<div class="diff">
    				<div>
    					{{p.service}}  <span class="text-price"> ${{p.charge}}</span>
    				</div>
    				<div>
    					{{p.date | date: 'dd'}}/{{p.date | date:'MM'}}/{{p.date | date: 'yyyy'}}  at {{p.time}}
    				</div>
    			</div>
    			<div class="pull-right">
    				<button ion-button small color="redcolor" (click)="cancel(p.booking_id)">cancel</button>
    			</div>
    			</div>
          </div>
    			</div>
    		</div>

<div [ngSwitch]="Appointments">
<div *ngSwitchCase="'PAST'" >
 <div *ngIf="pastAppointment==''" class="div-img">
 <img src="http://18.220.97.146/barber/app_link/icon/indifferent.png" class="img-div">
 <div class="text-img"><b>No past appointment</b></div>
 </div>
<div *ngIf="pastAppointment!=''">
<div class="user-review"  *ngFor="let p of pastAppointment" >

    			<div class="inside-user">
               <img [src]='getSafeUrl(p.barber_image)' *ngIf="p.barber_image!=null" /> 
                 <img src="http://18.220.97.146/barber/app_link/img/team-member2.jpg" *ngIf="p.barber_image==null">
                  </div>
    			<div class="name">{{p.barbername}} </div>
    			<div class="name">{{p.salonaddress}}</div>
    			<div class="diff">
    				<div>
    					{{p.service}} <span class="text-price"> ${{p.charge}}</span>
    				</div>
    				<div>
    					{{p.date | date: 'dd'}}/{{p.date | date:'MM'}}/{{p.date | date: 'yyyy'}}  at {{p.time}}
    				</div>
    			</div>
    			
    			</div>
          </div>
    			</div>
    		</div>


<div [ngSwitch]="Appointments">
<div *ngSwitchCase="'CANCELLED'" >
 <div *ngIf="cancelAppointment==''" class="div-img">
 <img src="http://18.220.97.146/barber/app_link/icon/indifferent.png" class="img-div">
 <div class="text-img"><b>No cancel appointment</b></div>
 </div>
<div *ngIf="cancelAppointment!=''">
<div class="user-review"  *ngFor="let p of cancelAppointment" >

    			<div class="inside-user">
                 <img [src]='getSafeUrl(p.barber_image)' *ngIf="p.barber_image!=null" /> 
                 <img src="http://18.220.97.146/barber/app_link/img/team-member2.jpg" *ngIf="p.barber_image==null">
                 </div>
    			<div class="name">{{p.barbername}} </div>
    			<div class="name">{{p.salonaddress}}</div>
    			<div class="diff">
    				<div>
    					{{p.service}}  <span class="text-price"> ${{p.charge}}</span>
    				</div>
    				<div>
    					{{p.date | date: 'dd'}}/{{p.date | date:'MM'}}/{{p.date | date: 'yyyy'}}  at {{p.time}}
    				</div>
    			</div>
    			
    			</div>
          </div>
    			</div>
    		</div>

</ion-content>
